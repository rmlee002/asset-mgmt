{"ast":null,"code":"import _defineProperty from \"/mnt/c/Users/Ryan Lee/Documents/new mgmt/app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/mnt/c/Users/Ryan Lee/Documents/new mgmt/app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/mnt/c/Users/Ryan Lee/Documents/new mgmt/app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/mnt/c/Users/Ryan Lee/Documents/new mgmt/app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/mnt/c/Users/Ryan Lee/Documents/new mgmt/app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/mnt/c/Users/Ryan Lee/Documents/new mgmt/app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/mnt/c/Users/Ryan Lee/Documents/new mgmt/app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/mnt/c/Users/Ryan Lee/Documents/new mgmt/app/src/components/Login.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport './Login.css';\n\nvar Login =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Login, _Component);\n\n  function Login(props) {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Login).call(this, props));\n\n    _this.handleChange = function (event) {\n      var _event$target = event.target,\n          value = _event$target.value,\n          name = _event$target.name;\n\n      _this.setState(_defineProperty({}, name, value));\n    };\n\n    _this.handleSubmit = function (event) {\n      event.preventDefault();\n      axios.post(\"/login\", {\n        user: _this.state.user,\n        password: _this.state.password\n      }).then(function (res) {\n        if (res.data.code !== 200) {\n          alert(res.data.error);\n        } else {\n          _this.props.history.go(-1);\n\n          alert(_this.props.history.location.pathname);\n        }\n      }).catch(function (err) {\n        console.log(err);\n        alert('Error logging in. Please try again');\n      });\n    };\n\n    _this.state = {\n      user: '',\n      password: ''\n    };\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"Main\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"Head\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, React.createElement(\"header\", {\n        className: \"App-header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: \"logolarge.png\",\n        className: \"Vid-logo\",\n        alt: \"logo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, \"Login:\"))), React.createElement(\"div\", {\n        className: \"Login-form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        onSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        name: \"user\",\n        placeholder: \"Username\",\n        value: this.state.user,\n        onChange: this.handleChange,\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      })), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"password\",\n        name: \"password\",\n        placeholder: \"Password\",\n        value: this.state.password,\n        onChange: this.handleChange,\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      })), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"submit\",\n        value: \"Login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return Login;\n}(Component);\n\nexport { Login as default };","map":{"version":3,"sources":["/mnt/c/Users/Ryan Lee/Documents/new mgmt/app/src/components/Login.js"],"names":["React","Component","axios","Login","props","handleChange","event","target","value","name","setState","handleSubmit","preventDefault","post","user","state","password","then","res","data","code","alert","error","history","go","location","pathname","catch","err","console","log","bind"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,aAAP;;IAEqBC,K;;;;;AACpB,iBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AAClB,+EAAMA,KAAN;;AADkB,UAUnBC,YAVmB,GAUJ,UAACC,KAAD,EAAW;AAAA,0BACDA,KAAK,CAACC,MADL;AAAA,UACjBC,KADiB,iBACjBA,KADiB;AAAA,UACVC,IADU,iBACVA,IADU;;AAEzB,YAAKC,QAAL,qBACED,IADF,EACUD,KADV;AAGA,KAfkB;;AAAA,UAiBnBG,YAjBmB,GAiBJ,UAACL,KAAD,EAAW;AACzBA,MAAAA,KAAK,CAACM,cAAN;AACAV,MAAAA,KAAK,CAACW,IAAN,CAAW,QAAX,EAAqB;AACpBC,QAAAA,IAAI,EAAE,MAAKC,KAAL,CAAWD,IADG;AAEpBE,QAAAA,QAAQ,EAAE,MAAKD,KAAL,CAAWC;AAFD,OAArB,EAICC,IAJD,CAIM,UAAAC,GAAG,EAAI;AACZ,YAAIA,GAAG,CAACC,IAAJ,CAASC,IAAT,KAAkB,GAAtB,EAA0B;AACzBC,UAAAA,KAAK,CAACH,GAAG,CAACC,IAAJ,CAASG,KAAV,CAAL;AACA,SAFD,MAGI;AACH,gBAAKlB,KAAL,CAAWmB,OAAX,CAAmBC,EAAnB,CAAsB,CAAC,CAAvB;;AACAH,UAAAA,KAAK,CAAC,MAAKjB,KAAL,CAAWmB,OAAX,CAAmBE,QAAnB,CAA4BC,QAA7B,CAAL;AACA;AACD,OAZD,EAYGC,KAZH,CAYS,UAAAC,GAAG,EAAI;AACfC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACAP,QAAAA,KAAK,CAAC,oCAAD,CAAL;AACA,OAfD;AAgBA,KAnCkB;;AAElB,UAAKN,KAAL,GAAa;AACZD,MAAAA,IAAI,EAAG,EADK;AAEZE,MAAAA,QAAQ,EAAG;AAFC,KAAb;AAIA,UAAKX,YAAL,GAAoB,MAAKA,YAAL,CAAkB0B,IAAlB,uDAApB;AACA,UAAKpB,YAAL,GAAoB,MAAKA,YAAL,CAAkBoB,IAAlB,uDAApB;AAPkB;AAQlB;;;;6BA6BQ;AACR,aACA;AAAK,QAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAK,QAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAQ,QAAA,SAAS,EAAC,YAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAK,QAAA,GAAG,EAAC,eAAT;AAAyB,QAAA,SAAS,EAAC,UAAnC;AAA8C,QAAA,GAAG,EAAC,MAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADD,EAEG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFH,CADD,CADD,EAOC;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAM,QAAA,QAAQ,EAAI,KAAKpB,YAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AACC,QAAA,IAAI,EAAC,MADN;AAEC,QAAA,IAAI,EAAC,MAFN;AAGC,QAAA,WAAW,EAAC,UAHb;AAIC,QAAA,KAAK,EAAG,KAAKI,KAAL,CAAWD,IAJpB;AAKC,QAAA,QAAQ,EAAI,KAAKT,YALlB;AAMC,QAAA,QAAQ,MANT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADD,CADD,EAUC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAVD,EAWC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AACC,QAAA,IAAI,EAAC,UADN;AAEC,QAAA,IAAI,EAAC,UAFN;AAGC,QAAA,WAAW,EAAC,UAHb;AAIC,QAAA,KAAK,EAAG,KAAKU,KAAL,CAAWC,QAJpB;AAKC,QAAA,QAAQ,EAAI,KAAKX,YALlB;AAMC,QAAA,QAAQ,MANT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADD,CAXD,EAoBC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QApBD,EAqBC;AAAO,QAAA,IAAI,EAAC,QAAZ;AAAqB,QAAA,KAAK,EAAC,OAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QArBD,CADD,CAPD,CADA;AAmCA;;;;EA1EiCJ,S;;SAAdE,K","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport './Login.css';\n\nexport default class Login extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tuser : '',\n\t\t\tpassword : ''\n\t\t};\n\t\tthis.handleChange = this.handleChange.bind(this);\n\t\tthis.handleSubmit = this.handleSubmit.bind(this);\n\t}\n\n\thandleChange = (event) => {\n\t\tconst { value, name } = event.target\n\t\tthis.setState({\n\t\t\t[name] : value\n\t\t});\n\t};\n\n\thandleSubmit = (event) => {\n\t\tevent.preventDefault()\n\t\taxios.post(\"/login\", {\n\t\t\tuser: this.state.user,\n\t\t\tpassword: this.state.password\n\t\t})\n\t\t.then(res => {\n\t\t\tif (res.data.code !== 200){\n\t\t\t\talert(res.data.error);\n\t\t\t}\n\t\t\telse{\n\t\t\t\tthis.props.history.go(-1);\n\t\t\t\talert(this.props.history.location.pathname)\n\t\t\t}\n\t\t}).catch(err => {\n\t\t\tconsole.log(err);\n\t\t\talert('Error logging in. Please try again');\n\t\t});\n\t};\n\n\trender() {\n\t\treturn (\n\t\t<div className=\"Main\">\n\t\t\t<div className=\"Head\">\n\t\t\t\t<header className=\"App-header\">\n\t\t\t\t\t<img src=\"logolarge.png\" className=\"Vid-logo\" alt=\"logo\" />\n\t\t\t  \t\t<p>Login:</p>\n\t\t\t\t</header>\n\t\t\t</div>\n\t\t\t<div className=\"Login-form\">\n\t\t\t\t<form onSubmit = {this.handleSubmit}>\n\t\t\t\t\t<label>\n\t\t\t\t\t\t<input \n\t\t\t\t\t\t\ttype=\"text\" \n\t\t\t\t\t\t\tname=\"user\" \n\t\t\t\t\t\t\tplaceholder=\"Username\"\n\t\t\t\t\t\t\tvalue= {this.state.user}\n\t\t\t\t\t\t\tonChange = {this.handleChange} \n\t\t\t\t\t\t\trequired/>\n\t\t\t\t\t</label>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<label>\n\t\t\t\t\t\t<input \n\t\t\t\t\t\t\ttype=\"password\" \n\t\t\t\t\t\t\tname=\"password\" \n\t\t\t\t\t\t\tplaceholder=\"Password\"\n\t\t\t\t\t\t\tvalue= {this.state.password}\n\t\t\t\t\t\t\tonChange = {this.handleChange} \n\t\t\t\t\t\t\trequired />\n\t\t\t\t\t</label>\n\t\t\t\t\t<br />\n\t\t\t\t\t<input type=\"submit\" value=\"Login\"/>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</div>\n\t\t);\n\t}\n}"]},"metadata":{},"sourceType":"module"}